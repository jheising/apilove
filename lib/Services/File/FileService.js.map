{"version":3,"file":"FileService.js","sourceRoot":"","sources":["FileService.ts"],"names":[],"mappings":";;AAAA,+CAA0C;AAE1C,MAAsB,mBAAmB;CAQxC;AARD,kDAQC;AAED,MAAa,WAAW;IAGZ,MAAM,KAAK,SAAS;QACxB,IAAI,CAAC,WAAW,CAAC,iBAAiB,EAAE;YAChC,IAAI,aAAa,GAAG,OAAO,CAAC,eAAe,qBAAS,CAAC,6BAA6B,EAAE,CAAC,CAAC,qBAAS,CAAC,6BAA6B,CAAC,CAAC;YAC/H,WAAW,CAAC,iBAAiB,GAAG,IAAI,aAAa,EAAE,CAAC;SACvD;QAED,OAAO,WAAW,CAAC,iBAAiB,CAAC;IACzC,CAAC;IAED,MAAM,CAAC,QAAQ,CAAC,gBAAwB,EAAE,cAAsB;QAC5D,OAAO,WAAW,CAAC,SAAS,CAAC,QAAQ,CAAC,gBAAgB,EAAE,cAAc,CAAC,CAAC;IAC5E,CAAC;IAED,MAAM,CAAC,SAAS,CAAC,YAAoB,EAAE,QAAyB,EAAE,YAAoB,KAAK;QACvF,OAAO,WAAW,CAAC,SAAS,CAAC,SAAS,CAAC,YAAY,EAAE,QAAQ,EAAE,SAAS,CAAC,CAAC;IAC9E,CAAC;IAED,MAAM,CAAC,QAAQ,CAAC,YAAoB,EAAE,iBAAyB,KAAK,EAAE,YAAoB,KAAK;QAC3F,OAAO,WAAW,CAAC,SAAS,CAAC,QAAQ,CAAC,YAAY,EAAE,cAAc,EAAE,SAAS,CAAC,CAAC;IACnF,CAAC;IAED,MAAM,CAAC,qBAAqB,CAAC,YAAoB;QAC7C,OAAO,WAAW,CAAC,SAAS,CAAC,qBAAqB,CAAC,YAAY,CAAC,CAAC;IACrE,CAAC;IAED,MAAM,CAAC,eAAe,CAAC,YAAoB;QACvC,OAAO,WAAW,CAAC,SAAS,CAAC,eAAe,CAAC,YAAY,CAAC,CAAC;IAC/D,CAAC;IAED,MAAM,CAAC,UAAU,CAAC,YAAoB;QAClC,OAAO,WAAW,CAAC,SAAS,CAAC,UAAU,CAAC,YAAY,CAAC,CAAC;IAC1D,CAAC;IAED,MAAM,CAAC,UAAU,CAAC,YAAoB;QAElC,OAAO,WAAW,CAAC,SAAS,CAAC,UAAU,CAAC,YAAY,CAAC,CAAC;IAC1D,CAAC;CACJ;AAxCD,kCAwCC","sourcesContent":["import {APIConfig} from \"../../APIConfig\";\n\nexport abstract class FileServiceProvider {\n    abstract copyFile(fromRelativePath: string, toRelativePath: string):Promise<void>;\n    abstract writeFile(relativePath: string, contents: string | Buffer, encrypted:boolean):Promise<void>;\n    abstract readFile(relativePath: string, returnAsBuffer:boolean, encrypted:boolean):Promise<string | Buffer>;\n    abstract listDirectoriesInPath(relativePath: string):Promise<string[]>;\n    abstract listFilesInPath(relativePath: string):Promise<string[]>;\n    abstract pathExists(relativePath: string):Promise<boolean>;\n    abstract deleteFile(relativePath: string):Promise<void>;\n}\n\nexport class FileService {\n\n    private static _providerInstance: FileServiceProvider;\n    private static get _provider(): FileServiceProvider {\n        if (!FileService._providerInstance) {\n            let providerClass = require(`./Providers/${APIConfig.FILE_STORAGE_SERVICE_PROVIDER}`)[APIConfig.FILE_STORAGE_SERVICE_PROVIDER];\n            FileService._providerInstance = new providerClass();\n        }\n\n        return FileService._providerInstance;\n    }\n\n    static copyFile(fromRelativePath: string, toRelativePath: string):Promise<void> {\n        return FileService._provider.copyFile(fromRelativePath, toRelativePath);\n    }\n\n    static writeFile(relativePath: string, contents: string | Buffer, encrypted:boolean = false):Promise<void> {\n        return FileService._provider.writeFile(relativePath, contents, encrypted);\n    }\n\n    static readFile(relativePath: string, returnAsBuffer:boolean = false, encrypted:boolean = false):Promise<string | Buffer> {\n        return FileService._provider.readFile(relativePath, returnAsBuffer, encrypted);\n    }\n\n    static listDirectoriesInPath(relativePath: string):Promise<string[]> {\n        return FileService._provider.listDirectoriesInPath(relativePath);\n    }\n\n    static listFilesInPath(relativePath: string):Promise<string[]> {\n        return FileService._provider.listFilesInPath(relativePath);\n    }\n\n    static pathExists(relativePath: string):Promise<boolean> {\n        return FileService._provider.pathExists(relativePath);\n    }\n\n    static deleteFile(relativePath: string):Promise<void>\n    {\n        return FileService._provider.deleteFile(relativePath);\n    }\n}"]}